{"ast":null,"code":"var __extends = this && this.__extends || function () {\n  var _extendStatics = function extendStatics(d, b) {\n    _extendStatics = Object.setPrototypeOf || {\n      __proto__: []\n    } instanceof Array && function (d, b) {\n      d.__proto__ = b;\n    } || function (d, b) {\n      for (var p in b) {\n        if (b.hasOwnProperty(p)) d[p] = b[p];\n      }\n    };\n\n    return _extendStatics(d, b);\n  };\n\n  return function (d, b) {\n    _extendStatics(d, b);\n\n    function __() {\n      this.constructor = d;\n    }\n\n    d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n  };\n}();\n\nvar __assign = this && this.__assign || function () {\n  __assign = Object.assign || function (t) {\n    for (var s, i = 1, n = arguments.length; i < n; i++) {\n      s = arguments[i];\n\n      for (var p in s) {\n        if (Object.prototype.hasOwnProperty.call(s, p)) t[p] = s[p];\n      }\n    }\n\n    return t;\n  };\n\n  return __assign.apply(this, arguments);\n};\n\nimport * as React from 'react';\nimport * as PropTypes from 'prop-types';\nimport { PanelBarItem } from './PanelBarItem';\nimport { renderChildren, getInitialState } from './util';\nimport { SelectionService } from './services/selectionService';\nimport { NavigationService, NavigationAction } from './services/navigationService';\nimport { classNames } from '@progress/kendo-react-common';\nimport { validatePackage } from '@progress/kendo-licensing';\nimport { packageMetadata } from '../package-metadata';\n\nvar PanelBar =\n/** @class */\nfunction (_super) {\n  __extends(PanelBar, _super);\n\n  function PanelBar(props) {\n    var _this = _super.call(this, props) || this;\n\n    _this._element = null;\n    /**\n     * @hidden\n     */\n\n    _this.handleSelect = function (event) {\n      var state = __assign({}, _this.state, {\n        selected: _this.selected\n      });\n\n      _this._selectionService.select(event.uniquePrivateKey, renderChildren(_this.props.animation, state, _this.handleSelect, _this.props.children), state.expanded);\n\n      _this._selectionService.focus(event.uniquePrivateKey, 0, renderChildren(_this.props.animation, state, _this.handleSelect, _this.props.children));\n    };\n    /**\n     * @hidden\n     */\n\n\n    _this.onSelect = function (child, expanded) {\n      _this.setState({\n        selected: child.props.uniquePrivateKey,\n        expanded: expanded\n      }, function () {\n        if (_this.props.onSelect) {\n          _this.props.onSelect.call(undefined, {\n            target: child,\n            action: 'select'\n          });\n        }\n      });\n    };\n    /**\n     * @hidden\n     */\n\n\n    _this.onFocus = function (child) {\n      _this.activeDescendant = child.props.id;\n\n      _this.setState({\n        focused: child.props.uniquePrivateKey\n      });\n    };\n    /**\n     * @hidden\n     */\n\n\n    _this.onNavigate = function (action) {\n      var state = __assign({}, _this.state, {\n        selected: _this.selected\n      });\n\n      switch (action) {\n        case NavigationAction.Previous:\n          _this._selectionService.focus(state.focused, -1, renderChildren(_this.props.animation, state, _this.handleSelect, _this.props.children));\n\n          break;\n\n        case NavigationAction.Next:\n          _this._selectionService.focus(state.focused, 1, renderChildren(_this.props.animation, state, _this.handleSelect, _this.props.children));\n\n          break;\n\n        case NavigationAction.Toggle:\n          _this._selectionService.select(state.focused, renderChildren(_this.props.animation, state, _this.handleSelect, _this.props.children), state.expanded);\n\n          break;\n\n        default:\n      }\n    };\n\n    _this.handleWrapperFocus = function () {\n      clearTimeout(_this.nextTickId);\n\n      if (!_this.state.wrapperFocused) {\n        _this.setState({\n          wrapperFocused: true\n        });\n      }\n    };\n\n    _this.handleWrapperBlur = function () {\n      _this.nextTick(function () {\n        _this.setState({\n          wrapperFocused: false\n        });\n      });\n    };\n\n    _this.handleKeyDown = function (event) {\n      var rtl = _this._element && getComputedStyle(_this._element).direction === 'rtl' || false;\n      var target = event.target,\n          currentTarget = event.currentTarget;\n\n      if (target === currentTarget) {\n        _this._navigationService.navigate(event, rtl);\n      }\n    };\n\n    validatePackage(packageMetadata);\n    _this.state = getInitialState(props, props.expandMode || 'multiple');\n    _this._selectionService = new SelectionService(_this.onSelect, _this.onFocus, _this.props.expandMode || 'multiple');\n    _this._navigationService = new NavigationService(_this.onNavigate);\n    return _this;\n  }\n\n  Object.defineProperty(PanelBar.prototype, \"selected\", {\n    get: function get() {\n      var _a = this.props.selected,\n          selected = _a === void 0 ? this.state.selected : _a;\n      return selected;\n    },\n    enumerable: true,\n    configurable: true\n  });\n  /**\n   * @hidden\n   */\n\n  PanelBar.prototype.componentDidUpdate = function (prevProps) {\n    var newProps = this.props;\n\n    if (newProps.expandMode !== prevProps.expandMode) {\n      this._selectionService.setExpandMode(newProps.expandMode);\n    }\n  };\n  /**\n   * @hidden\n   */\n\n\n  PanelBar.prototype.render = function () {\n    var _this = this;\n\n    var ariaProps = {\n      'aria-activedescendant': this.activeDescendant\n    };\n\n    var state = __assign({}, this.state, {\n      selected: this.selected\n    });\n\n    var children = renderChildren(this.props.animation, state, this.handleSelect, this.props.children);\n    var className = classNames('k-panelbar', this.props.className);\n    return React.createElement(\"ul\", __assign({\n      ref: function ref(div) {\n        _this._element = div;\n      },\n      dir: this.props.dir,\n      role: 'tree',\n      tabIndex: 0,\n      onKeyDown: this.handleKeyDown,\n      onFocus: this.handleWrapperFocus,\n      onBlur: this.handleWrapperBlur,\n      className: className,\n      style: this.props.style\n    }, ariaProps), children);\n  };\n\n  PanelBar.prototype.nextTick = function (f) {\n    // XXX: use window.setTimeout due to async focus/blur events in IE, and missing relatedTarget prop.\n    // XXX: https://github.com/facebook/react/issues/3751\n    // Handles multiple focus events happening at the same time.\n    clearTimeout(this.nextTickId);\n    this.nextTickId = window.setTimeout(function () {\n      return f();\n    });\n  };\n  /**\n   * @hidden\n   */\n\n\n  PanelBar.propTypes = {\n    animation: PropTypes.bool,\n    children: function children(props, propName) {\n      var prop = props[propName];\n\n      if (prop) {\n        if (Array.isArray(prop)) {\n          for (var _i = 0, prop_1 = prop; _i < prop_1.length; _i++) {\n            var value = prop_1[_i];\n\n            if (!value.type || value.type !== PanelBarItem) {\n              return new Error('PanelBar children should be either PanelBarItem or Array of PanelBarItem.');\n            }\n          }\n        } else {\n          if (prop.type !== PanelBarItem) {\n            return new Error('PanelBar child should be either PanelBarItem or Array of PanelBarItem.');\n          }\n        }\n      }\n    },\n    dir: PropTypes.string,\n    selected: PropTypes.string,\n    expanded: PropTypes.arrayOf(PropTypes.string),\n    focused: PropTypes.string,\n    expandMode: PropTypes.oneOf(['single', 'multiple']),\n    className: PropTypes.string,\n    onSelect: PropTypes.func,\n    style: PropTypes.object\n  };\n  /**\n   * @hidden\n   */\n\n  PanelBar.defaultProps = {\n    expandMode: 'multiple',\n    animation: true\n  };\n  return PanelBar;\n}(React.Component);\n\nexport { PanelBar };","map":{"version":3,"sources":["../../../src/panelbar/PanelBar.tsx"],"names":[],"mappings":"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","sourceRoot":"","sourcesContent":["var __extends = (this && this.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nvar __assign = (this && this.__assign) || function () {\n    __assign = Object.assign || function(t) {\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\n            s = arguments[i];\n            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p))\n                t[p] = s[p];\n        }\n        return t;\n    };\n    return __assign.apply(this, arguments);\n};\nimport * as React from 'react';\nimport * as PropTypes from 'prop-types';\nimport { PanelBarItem } from './PanelBarItem';\nimport { renderChildren, getInitialState } from './util';\nimport { SelectionService } from './services/selectionService';\nimport { NavigationService, NavigationAction } from './services/navigationService';\nimport { classNames } from '@progress/kendo-react-common';\nimport { validatePackage } from '@progress/kendo-licensing';\nimport { packageMetadata } from '../package-metadata';\nvar PanelBar = /** @class */ (function (_super) {\n    __extends(PanelBar, _super);\n    function PanelBar(props) {\n        var _this = _super.call(this, props) || this;\n        _this._element = null;\n        /**\n         * @hidden\n         */\n        _this.handleSelect = function (event) {\n            var state = __assign({}, _this.state, { selected: _this.selected });\n            _this._selectionService.select(event.uniquePrivateKey, renderChildren(_this.props.animation, state, _this.handleSelect, _this.props.children), state.expanded);\n            _this._selectionService.focus(event.uniquePrivateKey, 0, renderChildren(_this.props.animation, state, _this.handleSelect, _this.props.children));\n        };\n        /**\n         * @hidden\n         */\n        _this.onSelect = function (child, expanded) {\n            _this.setState({ selected: child.props.uniquePrivateKey, expanded: expanded }, function () {\n                if (_this.props.onSelect) {\n                    _this.props.onSelect.call(undefined, {\n                        target: child,\n                        action: 'select'\n                    });\n                }\n            });\n        };\n        /**\n         * @hidden\n         */\n        _this.onFocus = function (child) {\n            _this.activeDescendant = child.props.id;\n            _this.setState({ focused: child.props.uniquePrivateKey });\n        };\n        /**\n         * @hidden\n         */\n        _this.onNavigate = function (action) {\n            var state = __assign({}, _this.state, { selected: _this.selected });\n            switch (action) {\n                case NavigationAction.Previous:\n                    _this._selectionService.focus(state.focused, -1, renderChildren(_this.props.animation, state, _this.handleSelect, _this.props.children));\n                    break;\n                case NavigationAction.Next:\n                    _this._selectionService.focus(state.focused, 1, renderChildren(_this.props.animation, state, _this.handleSelect, _this.props.children));\n                    break;\n                case NavigationAction.Toggle:\n                    _this._selectionService.select(state.focused, renderChildren(_this.props.animation, state, _this.handleSelect, _this.props.children), state.expanded);\n                    break;\n                default:\n            }\n        };\n        _this.handleWrapperFocus = function () {\n            clearTimeout(_this.nextTickId);\n            if (!_this.state.wrapperFocused) {\n                _this.setState({ wrapperFocused: true });\n            }\n        };\n        _this.handleWrapperBlur = function () {\n            _this.nextTick(function () {\n                _this.setState({ wrapperFocused: false });\n            });\n        };\n        _this.handleKeyDown = function (event) {\n            var rtl = _this._element && (getComputedStyle(_this._element).direction === 'rtl') || false;\n            var target = event.target, currentTarget = event.currentTarget;\n            if (target === currentTarget) {\n                _this._navigationService.navigate(event, rtl);\n            }\n        };\n        validatePackage(packageMetadata);\n        _this.state = getInitialState(props, props.expandMode || 'multiple');\n        _this._selectionService = new SelectionService(_this.onSelect, _this.onFocus, _this.props.expandMode || 'multiple');\n        _this._navigationService = new NavigationService(_this.onNavigate);\n        return _this;\n    }\n    Object.defineProperty(PanelBar.prototype, \"selected\", {\n        get: function () {\n            var _a = this.props.selected, selected = _a === void 0 ? this.state.selected : _a;\n            return selected;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    /**\n     * @hidden\n     */\n    PanelBar.prototype.componentDidUpdate = function (prevProps) {\n        var newProps = this.props;\n        if (newProps.expandMode !== prevProps.expandMode) {\n            this._selectionService.setExpandMode(newProps.expandMode);\n        }\n    };\n    /**\n     * @hidden\n     */\n    PanelBar.prototype.render = function () {\n        var _this = this;\n        var ariaProps = {\n            'aria-activedescendant': this.activeDescendant\n        };\n        var state = __assign({}, this.state, { selected: this.selected });\n        var children = renderChildren(this.props.animation, state, this.handleSelect, this.props.children);\n        var className = classNames('k-panelbar', this.props.className);\n        return (React.createElement(\"ul\", __assign({ ref: function (div) { _this._element = div; }, dir: this.props.dir, role: 'tree', tabIndex: 0, onKeyDown: this.handleKeyDown, onFocus: this.handleWrapperFocus, onBlur: this.handleWrapperBlur, className: className, style: this.props.style }, ariaProps), children));\n    };\n    PanelBar.prototype.nextTick = function (f) {\n        // XXX: use window.setTimeout due to async focus/blur events in IE, and missing relatedTarget prop.\n        // XXX: https://github.com/facebook/react/issues/3751\n        // Handles multiple focus events happening at the same time.\n        clearTimeout(this.nextTickId);\n        this.nextTickId = window.setTimeout(function () { return f(); });\n    };\n    /**\n     * @hidden\n     */\n    PanelBar.propTypes = {\n        animation: PropTypes.bool,\n        children: function (props, propName) {\n            var prop = props[propName];\n            if (prop) {\n                if (Array.isArray(prop)) {\n                    for (var _i = 0, prop_1 = prop; _i < prop_1.length; _i++) {\n                        var value = prop_1[_i];\n                        if (!value.type || value.type !== PanelBarItem) {\n                            return new Error('PanelBar children should be either PanelBarItem or Array of PanelBarItem.');\n                        }\n                    }\n                }\n                else {\n                    if (prop.type !== PanelBarItem) {\n                        return new Error('PanelBar child should be either PanelBarItem or Array of PanelBarItem.');\n                    }\n                }\n            }\n        },\n        dir: PropTypes.string,\n        selected: PropTypes.string,\n        expanded: PropTypes.arrayOf(PropTypes.string),\n        focused: PropTypes.string,\n        expandMode: PropTypes.oneOf(['single', 'multiple']),\n        className: PropTypes.string,\n        onSelect: PropTypes.func,\n        style: PropTypes.object\n    };\n    /**\n     * @hidden\n     */\n    PanelBar.defaultProps = {\n        expandMode: 'multiple',\n        animation: true\n    };\n    return PanelBar;\n}(React.Component));\nexport { PanelBar };\n//# sourceMappingURL=PanelBar.js.map"]},"metadata":{},"sourceType":"module"}