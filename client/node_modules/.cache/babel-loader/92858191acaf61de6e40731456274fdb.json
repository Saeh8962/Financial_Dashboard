{"ast":null,"code":"var __extends = this && this.__extends || function () {\n  var _extendStatics = function extendStatics(d, b) {\n    _extendStatics = Object.setPrototypeOf || {\n      __proto__: []\n    } instanceof Array && function (d, b) {\n      d.__proto__ = b;\n    } || function (d, b) {\n      for (var p in b) {\n        if (b.hasOwnProperty(p)) d[p] = b[p];\n      }\n    };\n\n    return _extendStatics(d, b);\n  };\n\n  return function (d, b) {\n    _extendStatics(d, b);\n\n    function __() {\n      this.constructor = d;\n    }\n\n    d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n  };\n}();\n\nvar __assign = this && this.__assign || function () {\n  __assign = Object.assign || function (t) {\n    for (var s, i = 1, n = arguments.length; i < n; i++) {\n      s = arguments[i];\n\n      for (var p in s) {\n        if (Object.prototype.hasOwnProperty.call(s, p)) t[p] = s[p];\n      }\n    }\n\n    return t;\n  };\n\n  return __assign.apply(this, arguments);\n};\n\nimport * as React from 'react';\nimport * as PropTypes from 'prop-types';\nimport { weekInYear, cloneDate } from '@progress/kendo-date-math';\nimport { registerForIntl, provideIntlService } from '@progress/kendo-react-intl';\nimport { CalendarCell } from './CalendarCell';\nimport { CalendarWeekCell } from './CalendarWeekCell';\nimport { CalendarViewEnum } from '../models';\nimport { setTime, getToday } from '../../utils';\nimport { WeekNamesService } from '../services'; // tslint:disable-next-line jsx-use-translation-function\n\nvar emptyCell = function emptyCell(idx) {\n  return React.createElement(\"td\", {\n    key: idx,\n    className: 'k-calendar-td'\n  }, \"\\xA0\");\n};\n/**\n * @hidden\n */\n\n\nvar View =\n/** @class */\nfunction (_super) {\n  __extends(View, _super);\n\n  function View() {\n    var _this = _super !== null && _super.apply(this, arguments) || this;\n\n    _this.buildWeekNumber = function (row, idx) {\n      var firstDayOfWeek = _this.firstDate(row);\n\n      if (!firstDayOfWeek) {\n        return emptyCell(\"week-cell-\" + idx);\n      }\n\n      var firstDate = _this.firstDate(row);\n\n      var weekCellValue = _this.getWeekNumber(firstDate);\n\n      var uniqueID = \"kendo-react-calendar-week-cell-\" + weekCellValue;\n      var cellProps = {\n        className: 'k-alt',\n        value: weekCellValue,\n        firstDate: firstDate\n      };\n      return _this.props.weekCell ? React.createElement(_this.props.weekCell, __assign({}, cellProps, {\n        key: uniqueID\n      }), weekCellValue) : React.createElement(CalendarWeekCell, __assign({}, cellProps, {\n        key: uniqueID\n      }), weekCellValue);\n    };\n\n    _this.buildRow = function (row) {\n      return row.map(function (cell, idx) {\n        if (!cell) {\n          return emptyCell(idx);\n        }\n\n        var aria = {\n          'aria-selected': cell.isSelected\n        };\n        var uniqueID = \"kendo-react-calendar-cell-\" + cell.value.getTime();\n\n        var cellProps = __assign({}, aria, cell, {\n          isDisabled: !cell.isInRange,\n          view: _this.props.activeView,\n          onClick: _this.handleClick,\n          onMouseEnter: _this.handleMouseEnter,\n          onMouseLeave: _this.handleMouseLeave\n        });\n\n        return _this.props.cell ? React.createElement(_this.props.cell, __assign({}, cellProps, {\n          key: uniqueID\n        }), cell.formattedValue) : React.createElement(CalendarCell, __assign({}, cellProps, {\n          key: uniqueID\n        }), cell.formattedValue);\n      });\n    };\n\n    _this.firstDate = function (row) {\n      var cell = _this.firstWeekDateContext(row);\n\n      return cell ? cell.value : null;\n    };\n\n    _this.firstWeekDateContext = function (rowCtx) {\n      if (!_this.weekNumber) {\n        return null;\n      }\n\n      var idx = 0;\n      var ctx = rowCtx[idx];\n\n      while (!ctx && idx < rowCtx.length) {\n        ctx = rowCtx[++idx];\n      }\n\n      return ctx;\n    };\n\n    _this.handleClick = function (value, event) {\n      var onChange = _this.props.onChange;\n\n      if (onChange) {\n        var args = {\n          value: cloneDate(value),\n          target: _this,\n          nativeEvent: event && event.nativeEvent,\n          syntheticEvent: event\n        };\n        onChange.call(undefined, args);\n      }\n    };\n\n    _this.handleMouseEnter = function (value) {\n      var onCellEnter = _this.props.onCellEnter;\n\n      if (onCellEnter) {\n        onCellEnter.call(undefined, cloneDate(value));\n      }\n    };\n\n    _this.handleMouseLeave = function (value) {\n      var onCellLeave = _this.props.onCellLeave;\n\n      if (onCellLeave) {\n        onCellLeave.call(undefined, cloneDate(value));\n      }\n    };\n\n    return _this;\n  }\n\n  Object.defineProperty(View.prototype, \"min\", {\n    get: function get() {\n      return this.props.min;\n    },\n    enumerable: true,\n    configurable: true\n  });\n  Object.defineProperty(View.prototype, \"max\", {\n    get: function get() {\n      return this.props.max;\n    },\n    enumerable: true,\n    configurable: true\n  });\n  Object.defineProperty(View.prototype, \"isHorizontal\", {\n    get: function get() {\n      return this.props.direction === 'horizontal';\n    },\n    enumerable: true,\n    configurable: true\n  });\n  Object.defineProperty(View.prototype, \"isMonthView\", {\n    get: function get() {\n      return this.props.activeView === CalendarViewEnum.month;\n    },\n    enumerable: true,\n    configurable: true\n  });\n  Object.defineProperty(View.prototype, \"weekNumber\", {\n    get: function get() {\n      return Boolean(this.props.showWeekNumbers && this.props.activeView === CalendarViewEnum.month);\n    },\n    enumerable: true,\n    configurable: true\n  });\n  Object.defineProperty(View.prototype, \"selectedDate\", {\n    get: function get() {\n      return this.props.selectedDate !== undefined ? this.props.selectedDate : View.defaultProps.selectedDate;\n    },\n    enumerable: true,\n    configurable: true\n  });\n\n  View.prototype.render = function () {\n    var _this = this;\n\n    this.intl = provideIntlService(this);\n    this.weekService = new WeekNamesService(this.intl);\n    var weekNames = this.weekService.getWeekNames(this.weekNumber);\n    var colSpan = this.props.service.rowLength(this.weekNumber);\n    var title = this.props.service.title(this.props.viewDate);\n    var time = getToday();\n    var viewDate = setTime(this.props.viewDate, time);\n    var data = this.props.service.data({\n      cellUID: this.props.cellUID,\n      min: this.min,\n      max: this.max,\n      focusedDate: this.props.focusedDate,\n      isActiveView: !this.props.bus.canMoveDown(this.props.activeView),\n      selectedDate: this.selectedDate,\n      selectionRange: this.props.selectionRange,\n      viewDate: viewDate\n    });\n    return React.createElement(React.Fragment, null, this.isMonthView && this.isHorizontal && React.createElement(\"thead\", {\n      role: \"rowgroup\",\n      className: \"k-calendar-thead\"\n    }, React.createElement(\"tr\", {\n      role: \"row\",\n      className: \"k-calendar-tr\"\n    }, weekNames.map(function (name, idx) {\n      return React.createElement(\"th\", {\n        key: idx,\n        className: \"k-calendar-th\"\n      }, name);\n    }))), React.createElement(\"tbody\", {\n      role: \"rowgroup\",\n      className: \"k-calendar-tbody\"\n    }, !this.isHorizontal && React.createElement(\"tr\", {\n      role: \"presentation\",\n      className: \"k-calendar-tr\"\n    }, React.createElement(\"th\", {\n      scope: \"col\",\n      colSpan: colSpan,\n      className: \"k-calendar-th\"\n    }, title)), data.map(function (row, idx) {\n      return React.createElement(\"tr\", {\n        role: \"row\",\n        className: \"k-calendar-tr\",\n        key: idx\n      }, _this.weekNumber && _this.buildWeekNumber(row, idx), _this.buildRow(row));\n    })));\n  };\n\n  View.prototype.getWeekNumber = function (date) {\n    if (!this.weekNumber) {\n      return null;\n    }\n\n    return weekInYear(date, this.intl.firstDay());\n  };\n\n  View.propTypes = {\n    activeRangeEnd: PropTypes.oneOf(['start', 'end', null]),\n    activeView: PropTypes.number.isRequired,\n    cellUID: PropTypes.string.isRequired,\n    direction: PropTypes.oneOf(['horizontal', 'vertical']),\n    focusedDate: PropTypes.instanceOf(Date).isRequired,\n    max: PropTypes.instanceOf(Date).isRequired,\n    min: PropTypes.instanceOf(Date).isRequired,\n    onChange: PropTypes.func,\n    selectedDate: PropTypes.oneOfType([PropTypes.instanceOf(Date), PropTypes.arrayOf(PropTypes.instanceOf(Date))]),\n    showWeekNumbers: PropTypes.bool,\n    viewDate: PropTypes.instanceOf(Date).isRequired\n  };\n  View.defaultProps = {\n    direction: 'vertical',\n    selectedDate: getToday(),\n    showWeekNumbers: false\n  };\n  return View;\n}(React.Component);\n\nexport { View };\nregisterForIntl(View);","map":{"version":3,"sources":["../../../../src/calendar/components/View.tsx"],"names":[],"mappings":"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","sourceRoot":"","sourcesContent":["var __extends = (this && this.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nvar __assign = (this && this.__assign) || function () {\n    __assign = Object.assign || function(t) {\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\n            s = arguments[i];\n            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p))\n                t[p] = s[p];\n        }\n        return t;\n    };\n    return __assign.apply(this, arguments);\n};\nimport * as React from 'react';\nimport * as PropTypes from 'prop-types';\nimport { weekInYear, cloneDate } from '@progress/kendo-date-math';\nimport { registerForIntl, provideIntlService } from '@progress/kendo-react-intl';\nimport { CalendarCell } from './CalendarCell';\nimport { CalendarWeekCell } from './CalendarWeekCell';\nimport { CalendarViewEnum } from '../models';\nimport { setTime, getToday } from '../../utils';\nimport { WeekNamesService } from '../services';\n// tslint:disable-next-line jsx-use-translation-function\nvar emptyCell = function (idx) { return (React.createElement(\"td\", { key: idx, className: 'k-calendar-td' }, \"\\u00A0\")); };\n/**\n * @hidden\n */\nvar View = /** @class */ (function (_super) {\n    __extends(View, _super);\n    function View() {\n        var _this = _super !== null && _super.apply(this, arguments) || this;\n        _this.buildWeekNumber = function (row, idx) {\n            var firstDayOfWeek = _this.firstDate(row);\n            if (!firstDayOfWeek) {\n                return emptyCell(\"week-cell-\" + idx);\n            }\n            var firstDate = _this.firstDate(row);\n            var weekCellValue = _this.getWeekNumber(firstDate);\n            var uniqueID = \"kendo-react-calendar-week-cell-\" + weekCellValue;\n            var cellProps = {\n                className: 'k-alt',\n                value: weekCellValue,\n                firstDate: firstDate\n            };\n            return _this.props.weekCell\n                ? React.createElement(_this.props.weekCell, __assign({}, cellProps, { key: uniqueID }), weekCellValue)\n                : React.createElement(CalendarWeekCell, __assign({}, cellProps, { key: uniqueID }), weekCellValue);\n        };\n        _this.buildRow = function (row) {\n            return row.map(function (cell, idx) {\n                if (!cell) {\n                    return emptyCell(idx);\n                }\n                var aria = { 'aria-selected': cell.isSelected };\n                var uniqueID = \"kendo-react-calendar-cell-\" + cell.value.getTime();\n                var cellProps = __assign({}, aria, cell, { isDisabled: !cell.isInRange, view: _this.props.activeView, onClick: _this.handleClick, onMouseEnter: _this.handleMouseEnter, onMouseLeave: _this.handleMouseLeave });\n                return _this.props.cell\n                    ? (React.createElement(_this.props.cell, __assign({}, cellProps, { key: uniqueID }), cell.formattedValue))\n                    : (React.createElement(CalendarCell, __assign({}, cellProps, { key: uniqueID }), cell.formattedValue));\n            });\n        };\n        _this.firstDate = function (row) {\n            var cell = _this.firstWeekDateContext(row);\n            return cell ? cell.value : null;\n        };\n        _this.firstWeekDateContext = function (rowCtx) {\n            if (!_this.weekNumber) {\n                return null;\n            }\n            var idx = 0;\n            var ctx = rowCtx[idx];\n            while (!ctx && idx < rowCtx.length) {\n                ctx = rowCtx[++idx];\n            }\n            return ctx;\n        };\n        _this.handleClick = function (value, event) {\n            var onChange = _this.props.onChange;\n            if (onChange) {\n                var args = {\n                    value: cloneDate(value),\n                    target: _this,\n                    nativeEvent: event && event.nativeEvent,\n                    syntheticEvent: event\n                };\n                onChange.call(undefined, args);\n            }\n        };\n        _this.handleMouseEnter = function (value) {\n            var onCellEnter = _this.props.onCellEnter;\n            if (onCellEnter) {\n                onCellEnter.call(undefined, cloneDate(value));\n            }\n        };\n        _this.handleMouseLeave = function (value) {\n            var onCellLeave = _this.props.onCellLeave;\n            if (onCellLeave) {\n                onCellLeave.call(undefined, cloneDate(value));\n            }\n        };\n        return _this;\n    }\n    Object.defineProperty(View.prototype, \"min\", {\n        get: function () {\n            return this.props.min;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(View.prototype, \"max\", {\n        get: function () {\n            return this.props.max;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(View.prototype, \"isHorizontal\", {\n        get: function () {\n            return this.props.direction === 'horizontal';\n        },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(View.prototype, \"isMonthView\", {\n        get: function () {\n            return this.props.activeView === CalendarViewEnum.month;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(View.prototype, \"weekNumber\", {\n        get: function () {\n            return Boolean(this.props.showWeekNumbers && this.props.activeView === CalendarViewEnum.month);\n        },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(View.prototype, \"selectedDate\", {\n        get: function () {\n            return this.props.selectedDate !== undefined ? this.props.selectedDate : View.defaultProps.selectedDate;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    View.prototype.render = function () {\n        var _this = this;\n        this.intl = provideIntlService(this);\n        this.weekService = new WeekNamesService(this.intl);\n        var weekNames = this.weekService.getWeekNames(this.weekNumber);\n        var colSpan = this.props.service.rowLength(this.weekNumber);\n        var title = this.props.service.title(this.props.viewDate);\n        var time = getToday();\n        var viewDate = setTime(this.props.viewDate, time);\n        var data = this.props.service.data({\n            cellUID: this.props.cellUID,\n            min: this.min,\n            max: this.max,\n            focusedDate: this.props.focusedDate,\n            isActiveView: !this.props.bus.canMoveDown(this.props.activeView),\n            selectedDate: this.selectedDate,\n            selectionRange: this.props.selectionRange,\n            viewDate: viewDate\n        });\n        return (React.createElement(React.Fragment, null,\n            (this.isMonthView && this.isHorizontal) && (React.createElement(\"thead\", { role: \"rowgroup\", className: \"k-calendar-thead\" },\n                React.createElement(\"tr\", { role: \"row\", className: \"k-calendar-tr\" }, weekNames.map(function (name, idx) { return (React.createElement(\"th\", { key: idx, className: \"k-calendar-th\" }, name)); })))),\n            React.createElement(\"tbody\", { role: \"rowgroup\", className: \"k-calendar-tbody\" },\n                !this.isHorizontal && (React.createElement(\"tr\", { role: \"presentation\", className: \"k-calendar-tr\" },\n                    React.createElement(\"th\", { scope: \"col\", colSpan: colSpan, className: \"k-calendar-th\" }, title))),\n                data.map(function (row, idx) {\n                    return (React.createElement(\"tr\", { role: \"row\", className: \"k-calendar-tr\", key: idx },\n                        _this.weekNumber && _this.buildWeekNumber(row, idx),\n                        _this.buildRow(row)));\n                }))));\n    };\n    View.prototype.getWeekNumber = function (date) {\n        if (!this.weekNumber) {\n            return null;\n        }\n        return weekInYear(date, this.intl.firstDay());\n    };\n    View.propTypes = {\n        activeRangeEnd: PropTypes.oneOf(['start', 'end', null]),\n        activeView: PropTypes.number.isRequired,\n        cellUID: PropTypes.string.isRequired,\n        direction: PropTypes.oneOf(['horizontal', 'vertical']),\n        focusedDate: PropTypes.instanceOf(Date).isRequired,\n        max: PropTypes.instanceOf(Date).isRequired,\n        min: PropTypes.instanceOf(Date).isRequired,\n        onChange: PropTypes.func,\n        selectedDate: PropTypes.oneOfType([PropTypes.instanceOf(Date), PropTypes.arrayOf(PropTypes.instanceOf(Date))]),\n        showWeekNumbers: PropTypes.bool,\n        viewDate: PropTypes.instanceOf(Date).isRequired\n    };\n    View.defaultProps = {\n        direction: 'vertical',\n        selectedDate: getToday(),\n        showWeekNumbers: false\n    };\n    return View;\n}(React.Component));\nexport { View };\nregisterForIntl(View);\n//# sourceMappingURL=View.js.map"]},"metadata":{},"sourceType":"module"}