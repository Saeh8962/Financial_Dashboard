{"ast":null,"code":"import { toRound } from './utils';\n/**\n * @hidden\n */\n\nexport var RATING_ACTION;\n\n(function (RATING_ACTION) {\n  RATING_ACTION[\"select\"] = \"select\";\n  RATING_ACTION[\"deselect\"] = \"deselect\";\n  RATING_ACTION[\"increase\"] = \"increase\";\n  RATING_ACTION[\"decrease\"] = \"decrease\";\n  RATING_ACTION[\"min\"] = \"min\";\n  RATING_ACTION[\"max\"] = \"max\";\n  RATING_ACTION[\"reset\"] = \"reset\";\n})(RATING_ACTION || (RATING_ACTION = {}));\n/**\n * @hidden\n */\n\n\nexport var ratingReducer = function ratingReducer(state, action) {\n  switch (action.type) {\n    case RATING_ACTION.select:\n      if (action.payload === undefined || action.step === undefined) {\n        return state;\n      }\n\n      if (action.payload === state) {\n        return null;\n      }\n\n      return action.payload >= action.min ? action.payload < action.max ? toRound(action.payload, action.step) : action.max : action.min;\n\n    case RATING_ACTION.deselect:\n      return null;\n\n    case RATING_ACTION.increase:\n      if (action.step === undefined) {\n        return state;\n      }\n\n      if (state < action.min) {\n        return action.min;\n      }\n\n      return state + action.step < action.max ? toRound(state + action.step, action.step) : action.max;\n\n    case RATING_ACTION.decrease:\n      if (action.step === undefined) {\n        return state;\n      }\n\n      return toRound(state - action.step, action.step) >= action.min ? toRound(state - action.step, action.step) : action.min;\n\n    case RATING_ACTION.min:\n      if (action.step === undefined) {\n        return state;\n      }\n\n      return action.min;\n\n    case RATING_ACTION.max:\n      return action.max;\n\n    case RATING_ACTION.reset:\n      return null;\n\n    default:\n      return state;\n  }\n};","map":{"version":3,"sources":["../../../src/rating/rating-reducer.tsx"],"names":[],"mappings":"AAAA,SAAS,OAAT,QAAwB,SAAxB;AAEA;;AAEG;;AACH,OAAA,IAAY,aAAZ;;AAAA,CAAA,UAAY,aAAZ,EAAyB;AACrB,EAAA,aAAA,CAAA,QAAA,CAAA,GAAA,QAAA;AACA,EAAA,aAAA,CAAA,UAAA,CAAA,GAAA,UAAA;AACA,EAAA,aAAA,CAAA,UAAA,CAAA,GAAA,UAAA;AACA,EAAA,aAAA,CAAA,UAAA,CAAA,GAAA,UAAA;AACA,EAAA,aAAA,CAAA,KAAA,CAAA,GAAA,KAAA;AACA,EAAA,aAAA,CAAA,KAAA,CAAA,GAAA,KAAA;AACA,EAAA,aAAA,CAAA,OAAA,CAAA,GAAA,OAAA;AACH,CARD,EAAY,aAAa,KAAb,aAAa,GAAA,EAAA,CAAzB;AA4BA;;AAEG;;;AACH,OAAO,IAAM,aAAa,GAAG,SAAhB,aAAgB,CAAC,KAAD,EAAQ,MAAR,EAAmD;AAC5E,UAAQ,MAAM,CAAC,IAAf;AACI,SAAK,aAAa,CAAC,MAAnB;AACI,UAAI,MAAM,CAAC,OAAP,KAAmB,SAAnB,IAAgC,MAAM,CAAC,IAAP,KAAgB,SAApD,EAA+D;AAAE,eAAO,KAAP;AAAe;;AAChF,UAAI,MAAM,CAAC,OAAP,KAAmB,KAAvB,EAA8B;AAAE,eAAO,IAAP;AAAc;;AAC9C,aAAO,MAAM,CAAC,OAAP,IAAkB,MAAM,CAAC,GAAzB,GACD,MAAM,CAAC,OAAP,GAAiB,MAAM,CAAC,GAAxB,GACI,OAAO,CAAC,MAAM,CAAC,OAAR,EAAiB,MAAM,CAAC,IAAxB,CADX,GAEI,MAAM,CAAC,GAHV,GAID,MAAM,CAAC,GAJb;;AAKJ,SAAK,aAAa,CAAC,QAAnB;AACI,aAAO,IAAP;;AACJ,SAAK,aAAa,CAAC,QAAnB;AACI,UAAI,MAAM,CAAC,IAAP,KAAgB,SAApB,EAA+B;AAAE,eAAO,KAAP;AAAe;;AAChD,UAAI,KAAK,GAAG,MAAM,CAAC,GAAnB,EAAwB;AAAE,eAAO,MAAM,CAAC,GAAd;AAAoB;;AAC9C,aAAO,KAAK,GAAG,MAAM,CAAC,IAAf,GAAsB,MAAM,CAAC,GAA7B,GACD,OAAO,CAAC,KAAK,GAAG,MAAM,CAAC,IAAhB,EAAsB,MAAM,CAAC,IAA7B,CADN,GAED,MAAM,CAAC,GAFb;;AAGJ,SAAK,aAAa,CAAC,QAAnB;AACI,UAAI,MAAM,CAAC,IAAP,KAAgB,SAApB,EAA+B;AAAE,eAAO,KAAP;AAAe;;AAChD,aAAO,OAAO,CAAC,KAAK,GAAG,MAAM,CAAC,IAAhB,EAAsB,MAAM,CAAC,IAA7B,CAAP,IAA6C,MAAM,CAAC,GAApD,GACD,OAAO,CAAC,KAAK,GAAG,MAAM,CAAC,IAAhB,EAAsB,MAAM,CAAC,IAA7B,CADN,GAED,MAAM,CAAC,GAFb;;AAGJ,SAAK,aAAa,CAAC,GAAnB;AACI,UAAI,MAAM,CAAC,IAAP,KAAgB,SAApB,EAA+B;AAAE,eAAO,KAAP;AAAe;;AAChD,aAAO,MAAM,CAAC,GAAd;;AACJ,SAAK,aAAa,CAAC,GAAnB;AACI,aAAO,MAAM,CAAC,GAAd;;AACJ,SAAK,aAAa,CAAC,KAAnB;AACI,aAAO,IAAP;;AACJ;AACI,aAAO,KAAP;AA9BR;AAgCH,CAjCM","sourceRoot":"","sourcesContent":["import { toRound } from './utils';\n/**\n * @hidden\n */\nexport var RATING_ACTION;\n(function (RATING_ACTION) {\n    RATING_ACTION[\"select\"] = \"select\";\n    RATING_ACTION[\"deselect\"] = \"deselect\";\n    RATING_ACTION[\"increase\"] = \"increase\";\n    RATING_ACTION[\"decrease\"] = \"decrease\";\n    RATING_ACTION[\"min\"] = \"min\";\n    RATING_ACTION[\"max\"] = \"max\";\n    RATING_ACTION[\"reset\"] = \"reset\";\n})(RATING_ACTION || (RATING_ACTION = {}));\n/**\n * @hidden\n */\nexport var ratingReducer = function (state, action) {\n    switch (action.type) {\n        case RATING_ACTION.select:\n            if (action.payload === undefined || action.step === undefined) {\n                return state;\n            }\n            if (action.payload === state) {\n                return null;\n            }\n            return action.payload >= action.min\n                ? action.payload < action.max\n                    ? toRound(action.payload, action.step)\n                    : action.max\n                : action.min;\n        case RATING_ACTION.deselect:\n            return null;\n        case RATING_ACTION.increase:\n            if (action.step === undefined) {\n                return state;\n            }\n            if (state < action.min) {\n                return action.min;\n            }\n            return state + action.step < action.max\n                ? toRound(state + action.step, action.step)\n                : action.max;\n        case RATING_ACTION.decrease:\n            if (action.step === undefined) {\n                return state;\n            }\n            return toRound(state - action.step, action.step) >= action.min\n                ? toRound(state - action.step, action.step)\n                : action.min;\n        case RATING_ACTION.min:\n            if (action.step === undefined) {\n                return state;\n            }\n            return action.min;\n        case RATING_ACTION.max:\n            return action.max;\n        case RATING_ACTION.reset:\n            return null;\n        default:\n            return state;\n    }\n};\n//# sourceMappingURL=rating-reducer.js.map"]},"metadata":{},"sourceType":"module"}